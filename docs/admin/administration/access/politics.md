---
title: 'Политика безопасности (настройка доступа пользователей)'
---

В систему заложена ролевая модель распределения прав доступа, т.е. администратор базы создает роли и настраивает для каждой роли разрешения, 
а затем сотруднику, в зависимости от функциональных обязанностей, назначается одна или несколько ролей.

Уровень доступа пользователей к возможностям системы определяется настройками политики безопасности полей, 
которые осуществляются на форме **Администрирование - Доступ - Политика безопасности** (рис. 1)

![](../img/politics1.png)  
Рис. 1 Форма Политика безопасности  

Кнопки **Добавить, Удалить, Копировать**  (рис. 1(2) используются для создания и удаления ролей. При копировании роли копируются и все ее настройки.

Чтобы создать новую роль, необходимо нажать кнопку **Добавить** и ввести атрибуты роли в появившейся строке (рис. 1(1).

**Имя** - краткое наименование, которое даст представление о сути роли.

**Код** - идентификатор роли в системе.

**Показывать расширенное описание свойств во всплывающих подсказках** - при наведении на свойство, кнопку, поле и т.д. во всплывающем окне будет отображено описание.

![](../img/politics2.png)  
Рис. 2 Всплывающие подсказки с подробным описанием и без  

**Открывать форму один раз** - при выборе в навигаторе уже открытой на рабочем столе формы пользователь перейдет на нее, дополнительное окно открыто не будет. 
Если есть потребность открыть несколько окон с данной формой, необходимо удерживать клавишу **Ctrl** при вызове формы. 
Данное ограничение можно установить и для конкретного пользователя на вкладке **Пользователи** (рис. 5).

**Формы при открытии клиента** – для роли можно определить формы, которые будут автоматически открыты при входе пользователя в программу. 
Для этого на вкладке **Навигатор**, в поле **Порядок при открытии клиента** (рис. 1(3)) для нужных форм указывается номер по порядку, в котором формы должны быть открыты.

**Развернуть на весь экран при открытии клиента** - при входе в систему у пользователя будет отображено только рабочее окно на весь экран без меню навигации. 
Для отображения меню навигации необходимо кликнуть на иконку [](../../../img/ico_scr_return.png)  


## Вкладка Навигатор

На вкладке **Навигатор** (рис. 1(3)) отображаются все существующие в системе формы. 
Их можно просматривать в виде дерева либо в виде таблицы (вкладки **Дерево/ Таблица**). 
В древовидном представлении список форм отражает структуру главного меню и наиболее удобен для управления доступом к ним.

Для каждой формы в колонке **Доступ** можно установить один из трех статусов:

- **Разрешить** - форма будет доступна пользователю
- **Запретить** - форма будет недоступна пользователю
- **По умолчанию** - форма будет доступна пользователю с данной ролью. Если у пользователя несколько ролей, 
форма будет доступна если среди этих ролей есть _Разрешить_ или нет _Запретить_.

Статус, установленный для ветви дерева, автоматически действует на дочерние ветви. При необходимости, дочерней ветви можно установить другой статус доступа, 
в таком случае статус родительского элемента будет подсвечен серым фоном, чтобы пользователь мог визуально определить, 
что в структуре данной ветви есть элементы с отличным статусом допуска.

**Порядок при открытии клиента** - формы, для которых указан порядковый номер в данном столбце будут открыты в заданном порядке при открытии клиента. 
Также все отмеченные формы в заданном порядке будут отображены в поле Формы при открытии клиента в блоке Роли (рис. 1(1).

**Только мобильный** - Если выбрано значение "Да" в паре с установленным признаком автоматического открытия формы на клиенте, 
такая форма будет автоматически открываться только на мобильном устройстве.


## Вкладка Свойства

На вкладке **Свойства** (рис. 3)отображены все существующие в системе свойства всех форм - это поля, кнопки, чекбоксы и т.д. 
Они так же как и формы имеют иерархическое (**Дерево**) и табличное (**Таблица**) представление.

Для роли может быть установлен один из трех статусов доступа на действия в отношении свойств:

- **Просмотр** - для пользователя свойство отображается или нет;
- **Изменение** - пользователь может или нет изменить значение свойства;
- **Редактирование объекта** - если значением свойства выступает объект, пользователь может или нет перейти к редактированию данного объекта.

Устанавливается статус доступа к свойствам аналогично доступу к формам.  Однако, учитывая большое количество разнообразных свойств в системе, 
на вкладке **Свойства** удобно определить уровень доступа к группе свойств, соответствующей верхним ветвям дерева, либо просмотреть статус допусков роли в разрезе свойств. 

![](../img/politics3.png)  
Рис. 3 Вкладка Свойства  

Чтобы определить уровень доступа к конкретному свойству на форме удобно воспользоваться контекстным меню. 
Для этого необходимо нажать правой клавишей мыши на элемент (кнопку, поле и т.д.),  доступ к которому надо настроить (рис. 4 (1), 
и в контекстном меню выбрать команду **Настройка политики свойств** (рис. 4 (2). Откроется окно **Политики безопасности**, 
в котором можно установить уровень доступа к свойству для каждой роли или для нескольких (рис. 4 (3), затем нажать **Сохранить** или **ОК** (рис. 4 (4). 
Все изменения, внесенные и сохраненные через контекстное меню, отображаются на вкладке **Свойства** формы **Политика безопасности**.

Кроме регулирования доступа к свойству, можно также использовать следующие настройки на контекстной форме Политика безопасности (рис. 4 (3)):

>Ниже приведенные функции начинают действовать только после перезагрузки сервера

- **Логируется пользователем** - включает отслеживание изменения свойства. 
Подробно данный функционал описан в п. [Механизм пользовательского логирования](../magazines/user_log.md).
- **Не может быть null** - значение свойства не может быть пустым. Т.е. если до включения данной функции свойство было заполнено, то его нельзя будет удалить, 
только изменить. Если создается новый объект, у которого есть данное свойство, оно должно быть заполнено, иначе объект нельзя будет сохранить.
- **Отключить подсказки при вводе** - при заполнении значения данного свойства система не будет предлагать варианты автозаполнения 
(см. п. [Общее описание интерфейса](../../common/common.md)).

![](../img/politics4.png)  
Рис. 4 Установка доступа к свойствам через контекстное меню  


## Вкладка Пользователи

На этой вкладке отображены все пользователи системы, которым назначена выделенная роль в качестве главной либо дополнительной.

![](../img/politics5.png)  
Рис. 5 Вкладка Пользователи

